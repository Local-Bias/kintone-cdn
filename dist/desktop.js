(()=>{"use strict";const e="https://v1.kintone-plugin.workers.dev/analytics";class t{#e;#t;static async restore(e){const n=localStorage.getItem(e.key)??"{}";let a={};try{a=JSON.parse(n)}catch(e){}const o=await e.migrator(a);return new t({key:e.key,stored:o})}constructor(e){this.#e=e.key,this.#t=e.stored}store(){const e=JSON.stringify(this.#t);localStorage.setItem(this.#e,e)}get value(){return this.#t}}(async n=>{try{const a=await t.restore({key:"ribbit-kintone-plugin",migrator:e=>({lastSent:0,localUsageCount:0,...e,..."number"!=typeof e.lastSent&&{lastSent:0},..."number"!=typeof e.localUsageCount&&{localUsageCount:0}})});try{a.value.localUsageCount+=1,a.store()}catch(e){}const o=Date.now();if(o-a.value.lastSent<864e5)return;const i={"Content-Type":"application/json"},l=async e=>{try{await kintone.plugin.app.proxy(n,"https://data.konomi.app/v1/kintone/plugin/errors","POST",i,{hostname:location.hostname,message:e,pluginId:n,cdnProvider:"Cloudflare"},(()=>{}),(()=>{}))}catch(e){}},s={hostname:location.hostname,usageCount:a.value.localUsageCount,pluginId:n,cdnProvider:"Cloudflare"};await Promise.allSettled([e].map((e=>kintone.plugin.app.proxy(n,e,"POST",i,s,(()=>{}),l))));try{a.value.lastSent=o,a.value.localUsageCount=0,a.store()}catch(e){}}catch(e){}try{const e="üê∏ribbit-kintone-plugin-notification",t=localStorage.getItem(e)??"{}",a=JSON.parse(t),o=new Date;if(a.lastNotified){const e=new Date(a.lastNotified).getTime();if(o.getTime()-e<828e5)return}const i={anfkgeoaaholjcnfajdibiipjdllokli:{name:"Âπ¥ÈΩ¢Ëá™ÂãïË®àÁÆó„Éó„É©„Ç∞„Ç§„É≥"},dbmjjoeelibfkgmddkndhmbgdaannflg:{name:"Ëá™„Ç¢„Éó„É™„É´„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Éó„É©„Ç∞„Ç§„É≥"},ejjafdmbiehloffkhejlobknmplhnfnn:{name:"Èñ¢ÈÄ£‰ªò„Åë„Å™„ÅÑ„É´„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Éó„É©„Ç∞„Ç§„É≥"},pnaoddlebpicbenjmkdkijndepeldjlk:{name:"„Ç´„É¨„É≥„ÉÄ„Éº„Éó„É©„Ç∞„Ç§„É≥"},mkmpkkpebhgnbibbblfkdcnmecgmncka:{name:"‰∏ÄË¶ßÈ´òÈÄüÊ§úÁ¥¢ÔºÜÁµû„ÇäËæº„Åø„Éó„É©„Ç∞„Ç§„É≥"},kndhcmbfndhdhiogiegkjibgfmbaeeko:{name:"„Çø„Ç∞‰ªò„Åë„Éó„É©„Ç∞„Ç§„É≥"},ehghocoakgmmkgklfkeoaefipmmnkeka:{name:"ChatGPTÈÄ£Êê∫„Éó„É©„Ç∞„Ç§„É≥"},dlomejmmkgmfghibfldemkkjnocidjbf:{name:"ExcelÂá∫Âäõ„Éó„É©„Ç∞„Ç§„É≥"},bnnpkekfambhmhgdogjmngphacdbpefm:{name:"„ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó „Éó„É©„Ç∞„Ç§„É≥"},mjpdnffgganakpggdmemflhoifcfgmic:{name:"ÁõÆÊ¨°„Éó„É©„Ç∞„Ç§„É≥"},pndoajcolcaceblfiheomkglaaenijdc:{name:"„Éï„Ç£„Éº„É´„ÉâÂãïÁöÑÂÖ•ÂäõÂà∂Âæ°„Éó„É©„Ç∞„Ç§„É≥"},jdbhkepieikklgemdbcfcbogbiahalfg:{name:"„Çø„ÉñË°®Á§∫„Éó„É©„Ç∞„Ç§„É≥"}}[n];if(i){const t=document.createElement("aside");t.textContent=`[${i.name}] „Éó„É©„Ç∞„Ç§„É≥„ÅåÂè§„Åè„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÊúÄÊñ∞„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Å´Êõ¥Êñ∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,t.style.position="fixed",t.style.bottom="4px",t.style.right="4px",t.style.zIndex="9999",t.style.padding="10px",t.style.backgroundColor="#fff",t.style.border="1px solid #e9ecef",t.style.borderRadius="4px",t.style.color="#495057",t.style.fontSize="12px",document.body.append(t),setTimeout((()=>{t.remove(),localStorage.setItem(e,JSON.stringify({lastNotified:o.toISOString()}))}),1e4)}}catch(e){}})(kintone.$PLUGIN_ID)})();