(()=>{"use strict";const e="https://kintone-api-v1.konomi.app/api/kintone/user",t="https://v1.kintone-plugin.workers.dev/analytics";class n{#e;#t;static async restore(e){const t=localStorage.getItem(e.key)??"{}";let o={};try{o=JSON.parse(t)}catch(e){}const a=await e.migrator(o);return new n({key:e.key,stored:a})}constructor(e){this.#e=e.key,this.#t=e.stored}store(){const e=JSON.stringify(this.#t);localStorage.setItem(this.#e,e)}get value(){return this.#t}}(async o=>{try{const a=await n.restore({key:"ribbit-kintone-plugin",migrator:e=>({lastSent:0,localUsageCount:0,...e,..."number"!=typeof e.lastSent&&{lastSent:0},..."number"!=typeof e.localUsageCount&&{localUsageCount:0}})});try{a.value.localUsageCount+=1,a.store()}catch(e){}const i=Date.now();if(i-a.value.lastSent<864e5)return;const s={"Content-Type":"application/json"},l=async e=>{try{await kintone.plugin.app.proxy(o,"https://data.konomi.app/v1/kintone/plugin/errors","POST",s,{hostname:location.hostname,message:e,pluginId:o,cdnProvider:"JSDelivr"},(()=>{}),(()=>{}))}catch(e){}},r={hostname:location.hostname,usageCount:a.value.localUsageCount,pluginId:o,cdnProvider:"JSDelivr"};await Promise.allSettled([e,t].map((e=>kintone.plugin.app.proxy(o,e,"POST",s,r,(()=>{}),l))));try{a.value.lastSent=i,a.value.localUsageCount=0,a.store()}catch(e){}}catch(e){}try{const e="üê∏ribbit-kintone-plugin-notification",t=localStorage.getItem(e)??"{}",n=JSON.parse(t),a=new Date;if(n.lastNotified){const e=new Date(n.lastNotified).getTime();if(a.getTime()-e<2592e5)return}const i={anfkgeoaaholjcnfajdibiipjdllokli:{name:"Âπ¥ÈΩ¢Ëá™ÂãïË®àÁÆó„Éó„É©„Ç∞„Ç§„É≥"},dbmjjoeelibfkgmddkndhmbgdaannflg:{name:"Ëá™„Ç¢„Éó„É™„É´„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Éó„É©„Ç∞„Ç§„É≥"},ejjafdmbiehloffkhejlobknmplhnfnn:{name:"Èñ¢ÈÄ£‰ªò„Åë„Å™„ÅÑ„É´„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Éó„É©„Ç∞„Ç§„É≥"},pnaoddlebpicbenjmkdkijndepeldjlk:{name:"„Ç´„É¨„É≥„ÉÄ„Éº„Éó„É©„Ç∞„Ç§„É≥"},mkmpkkpebhgnbibbblfkdcnmecgmncka:{name:"‰∏ÄË¶ßÈ´òÈÄüÊ§úÁ¥¢ÔºÜÁµû„ÇäËæº„Åø„Éó„É©„Ç∞„Ç§„É≥"},kndhcmbfndhdhiogiegkjibgfmbaeeko:{name:"„Çø„Ç∞‰ªò„Åë„Éó„É©„Ç∞„Ç§„É≥"},ehghocoakgmmkgklfkeoaefipmmnkeka:{name:"ChatGPTÈÄ£Êê∫„Éó„É©„Ç∞„Ç§„É≥"},dlomejmmkgmfghibfldemkkjnocidjbf:{name:"ExcelÂá∫Âäõ„Éó„É©„Ç∞„Ç§„É≥"},bnnpkekfambhmhgdogjmngphacdbpefm:{name:"„ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó „Éó„É©„Ç∞„Ç§„É≥"},mjpdnffgganakpggdmemflhoifcfgmic:{name:"ÁõÆÊ¨°„Éó„É©„Ç∞„Ç§„É≥"}}[o];if(i){const t=document.createElement("aside");t.textContent=`[${i.name}] „Éó„É©„Ç∞„Ç§„É≥„ÅåÂè§„Åè„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÊúÄÊñ∞„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Å´Êõ¥Êñ∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,t.style.position="fixed",t.style.bottom="4px",t.style.right="4px",t.style.zIndex="9999",t.style.padding="10px",t.style.backgroundColor="#fff",t.style.border="1px solid #e9ecef",t.style.borderRadius="4px",t.style.color="#495057",t.style.fontSize="12px",document.body.append(t),setTimeout((()=>{t.remove(),localStorage.setItem(e,JSON.stringify({lastNotified:a.toISOString()}))}),5e3)}}catch(e){}})(kintone.$PLUGIN_ID)})();