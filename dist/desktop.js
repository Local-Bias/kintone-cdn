(()=>{"use strict";const t="ribbit-kintone-plugin",n="https://kintone-api-v1.konomi.app/api/kintone/user",a="https://data.konomi.app/v1/kintone/plugin/analytics";(async e=>{try{const o=localStorage.getItem(t)??"{}";let i={};try{i=JSON.parse(o)}catch(t){}const s=i.lastSent&&"number"==typeof i.lastSent?i.lastSent:0,p=(new Date).getTime();if(p-s<864e5)return;const l=()=>{const n=JSON.stringify({...i,lastSent:p});localStorage.setItem(t,n)},r=async()=>{try{await kintone.plugin.app.proxy(e,"https://data.konomi.app/v1/kintone/plugin/errors","POST",{},{hostname:location.hostname,message:"Failed to send plugin data",pluginId:e,sendFrom:"JSDelivr"},(()=>{}),(()=>{}))}catch(t){}},c={hostname:location.hostname};await Promise.allSettled([n,a].map((t=>kintone.plugin.app.proxy(e,t,"POST",{},c,l,r))))}catch(t){}})(kintone.$PLUGIN_ID)})();